<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Livro de Ponto</title>

<style>
body{
    font-family: Arial, sans-serif;
    margin:0;
    background:#f5f5f5;
}

/* Área de cadastro (não imprime) */
#controle{
    padding:20px;
    background:#002366;
    color:#fff;
}

#controle input{
    padding:6px;
    margin:4px;
}

#controle button{
    padding:8px 15px;
    font-weight:bold;
    cursor:pointer;
}

#listaFuncionarios{
    margin-top:10px;
}

/* Livro de Ponto */
#livro{
    padding:20px;
}

/* Página A4 */
.pagina{
    width:210mm;
    min-height:297mm;
    background:#fff;
    margin:20px auto;
    padding:20mm;
    box-shadow:0 0 10px rgba(0,0,0,.2);
    page-break-after: always;
}

/* Cabeçalho */
.cabecalho{
    text-align:center;
    margin-bottom:20px;
}

.cabecalho h2{
    margin:5px 0;
}

/* Dados do funcionário */
.dados{
    margin-bottom:15px;
    font-size:14px;
}

.dados span{
    display:inline-block;
    min-width:200px;
}

/* Tabela ponto */
table{
    width:100%;
    border-collapse:collapse;
    font-size:12px;
}

th, td{
    border:1px solid #000;
    padding:5px;
    text-align:center;
}

th{
    background:#eaeaea;
}

/* Impressão */
@media print{
    body{
        background:#fff;
    }

    #controle{
        display:none;
    }

    .pagina{
        box-shadow:none;
        margin:0;
    }
}
</style>
</head>

<body>

<div id="controle">
    <h2>Cadastro de Funcionários</h2>

    <input type="text" id="nome" placeholder="Nome">
    <input type="text" id="cargo" placeholder="Cargo">
    <input type="text" id="matricula" placeholder="Matrícula">
    <input type="text" id="setor" placeholder="Setor">
    <button onclick="adicionar()">Adicionar</button>
    <button onclick="gerarLivro()">Gerar Livro de Ponto</button>
    <button onclick="window.print()">Imprimir</button>

    <div id="listaFuncionarios"></div>
</div>

<div id="livro"></div>

<script>
let funcionarios = [];

function adicionar(){
    const nome = document.getElementById('nome').value;
    const cargo = document.getElementById('cargo').value;
    const matricula = document.getElementById('matricula').value;
    const setor = document.getElementById('setor').value;

    if(!nome || !cargo || !matricula){
        alert("Preencha os campos obrigatórios.");
        return;
    }

    funcionarios.push({nome, cargo, matricula, setor});
    atualizarLista();

    document.getElementById('nome').value='';
    document.getElementById('cargo').value='';
    document.getElementById('matricula').value='';
    document.getElementById('setor').value='';
}

function atualizarLista(){
    const lista = document.getElementById('listaFuncionarios');
    lista.innerHTML = '<b>Funcionários cadastrados:</b><br>';
    funcionarios.forEach((f,i)=>{
        lista.innerHTML += `${i+1}. ${f.nome} – ${f.cargo}<br>`;
    });
}

function gerarLivro(){
    const livro = document.getElementById('livro');
    livro.innerHTML = '';

    funcionarios.forEach(func=>{
        livro.innerHTML += `
        <div class="pagina">
            <div class="cabecalho">
                <h2>LIVRO DE PONTO</h2>
                <h3>Unidade/Órgão: __________________________</h3>
            </div>

            <div class="dados">
                <span><b>Nome:</b> ${func.nome}</span>
                <span><b>Cargo:</b> ${func.cargo}</span><br>
                <span><b>Matrícula:</b> ${func.matricula}</span>
                <span><b>Setor:</b> ${func.setor || '__________'}</span>
            </div>

            <table>
                <tr>
                    <th>Dia</th>
                    <th>Entrada</th>
                    <th>Saída</th>
                    <th>Entrada</th>
                    <th>Saída</th>
                    <th>Assinatura</th>
                </tr>
                ${gerarLinhas()}
            </table>

            <br><br>
            <div style="text-align:center;">
                ___________________________________________<br>
                Assinatura do Servidor
            </div>
        </div>
        `;
    });
}

function gerarLinhas(){
    let linhas = '';
    for(let i=1;i<=31;i++){
        linhas += `
        <tr>
            <td>${i}</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>`;
    }
    return linhas;
}
</script>

</body>
</html>
